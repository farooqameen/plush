fun f()
{
    let var n = 0;

    fun a() { n = n + 1; }
    fun b() { n = n + 2; }
    let c = || n;
    let d = |v| n = n + v;

    assert(n == 0);
    a();
    assert(n == 1);
    b();
    assert(n == 3);
    assert(c() == 3);
    d(1);
    assert(n == 4);
}

f();
